!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Socialtools=t()}}(function(){var t;return function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!l&&u)return u(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return o(n?n:e)},p,p.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,n,r){!function(e,o){"function"==typeof t&&t.amd?t([],o):"object"==typeof r?n.exports=o():e.utils=o()}(this,function(){function t(t,e){var n=parseInt(t,e);return isNaN(n)||!isFinite(n)?0:n}function e(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function r(t){"string"!=typeof t&&(t="");for(var e=t.split("&"),n={},r=0;r<e.length;r++){var o=e[r].split("=");o[0]&&(n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]))}return n}function o(t,n){if("undefined"==typeof t)return t;if("object"!=typeof n)return t;var o=document.createElement("a");o.href=t;var i=r(o.search.substring(1));for(param in n)i[param]=n[param];return o.search="?"+e(i),o.href}return n="undefined"==typeof n?{}:n,n.exports={toInteger:t,serializeToQueryString:e,parseQueryString:r,addQueryParams:o},n.exports})},{}],2:[function(e,n,r){!function(e,o){"function"==typeof t&&t.amd?t([],o):"object"==typeof r?n.exports=o():e.defaultAdapter=o()}(this,function(){function t(t){return t}return n="undefined"==typeof n?{}:n,n.exports=t,n.exports})},{}],3:[function(e,n,r){!function(o,i){"function"==typeof t&&t.amd?t(["../common/utils","./adapter/default"],i):"object"==typeof r?n.exports=i(e("../common/utils"),e("./adapter/default")):o.Poller=i(o.utils,o.defaultAdapter)}(this,function(t,e){function r(t){if(!(this instanceof r))return new r(t);var n={url:null,type:"json",pollInterval:1e4,adapter:e,createEvent:!0,eventName:"polled",callbackNamePrefixJSONP:"pollerJSONPCallback",handler:null};this.settings=Object.assign(n,t),this.interval=null}n="undefined"==typeof n?{}:n,n.exports=r;var o=this;return r.prototype.get=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;"withCredentials"in r?r.open("GET",t,!0):"XDomainRequest"in o?(r=new XDomainRequest,r.open("get",t)):n(new Error("CORS not supported")),r.onload=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?e(r.response):n(new Error(r.status+" "+r.statusText)))},r.onerror=function(){n(new Error("Network error"))},r.send()})},r.prototype.getJSON=function(t){return this.get(t).then(JSON.parse)},r.prototype.getJSONP=function(e,n){"undefined"==typeof n&&(n=o);var r=this.settings.callbackNamePrefixJSONP+"",i="",s=r+i;if(0===r.length){var l=Math.floor(Math.random()*Date.now());i=l.toString(36),s=r+"_"+i}for(;"undefined"!=typeof n[s];){var u=Math.floor(Math.random()*Date.now());i=u.toString(36),s=r+"_"+i}return new Promise(function(r){var o=document.createElement("script"),i=t.addQueryParams(e,{callback:s});n[s]=function(t){delete n[s],o.remove(),r(t)},o.setAttribute("src",i),document.body.appendChild(o)})},r.prototype._handleResponse=function(t){if(this.settings.createEvent){var e=document.createEvent("CustomEvent");e.initCustomEvent(this.settings.eventName,!0,!0,{data:t}),document.dispatchEvent(e)}"function"==typeof this.settings.handler&&this.settings.handler.call(this,t)},r.prototype._poll=function(t){var e,n=this;"json"===this.settings.type?e="getJSON":"jsonp"===this.settings.type&&(e="getJSONP"),this[e](t).then(function(t){n._handleResponse(n.settings.adapter.call(n,t))},function(t){throw new Error("Poller: Error: "+t.message)})},r.prototype.poll=function(t){if("undefined"==typeof t||"start"===t||"reset"===t){clearInterval(this.interval),this._poll.call(this,this.settings.url);var e=this;this.interval=setInterval(function(){e._poll.call(e,e.settings.url)},this.settings.pollInterval)}else"once"===t?this._poll.call(this,this.settings.url):"stop"===t&&clearInterval(this.interval)},n.exports})},{"../common/utils":1,"./adapter/default":2}],4:[function(e,n,r){!function(o,i){"function"==typeof t&&t.amd?t(["../common/utils","../poller/poller"],i):"object"==typeof r?n.exports=i(e("../common/utils"),e("../poller/poller")):o.Progressbar=i(o.utils,o.Poller)}(this,function(t,e){function r(n){if(!(this instanceof r))return new r(n);var o={startCount:0,targets:[100,1e3,1e4],minDelta:0,poller:null,barSelector:".bar",barStyleAttr:"width",counterSelector:".counter",downCounterSelector:".down-counter",targetSelector:".target",el:null};this.settings=Object.assign(o,n),this.currentCount=0,this.poller=null,"object"==typeof this.settings.poller&&this.settings.poller instanceof e?this.poller=this.settings.poller:"object"==typeof this.settings.poller&&null!==this.settings.poller?this.poller=new e(this.settings.poller):this.poller=null,this.el=null,this.settings.el&&this.bindTo(this.settings.el),0!==this.settings.startCount&&(this.currentCount=t.toInteger(this.settings.startCount))}n="undefined"==typeof n?{}:n,n.exports=r;var o=this;if("undefined"==typeof e)var e=function(){};return r.prototype.bindTo=function(t,e){return"undefined"==typeof e&&(e=o.document),"string"==typeof t&&(this.el=e.querySelector(t)),t instanceof HTMLElement&&(this.el=t),this.el?!0:!1},r.prototype.update=function(e){var n=t.toInteger(e);return n!==this.currentCount?(this.currentCount=n,this.render(),!0):!1},r.prototype.render=function(){if(this.el){var t=this.el.querySelector(this.settings.barSelector);t&&(t.style[this.settings.barStyleAttr]=this.percentageDone(!0)+"%");var e,n=this.el.querySelectorAll(this.settings.counterSelector);for(e=0;e<n.length;e++)n[e].textContent=this.currentCount;var r=this.el.querySelectorAll(this.settings.downCounterSelector),o=this.getMissingCount();for(e=0;e<r.length;e++)r[e].textContent=o;var i=this.el.querySelectorAll(this.settings.targetSelector),s=this.currentTarget();for(e=0;e<i.length;e++)i[e].textContent=s}},r.prototype.percentageDone=function(e){"undefined"==typeof e&&(e=!0);var n=t.toInteger(this.currentTarget());if(0===n||0>n)return 0;var r=this.currentCount/n;return e&&r>1?100:Math.round(100*r*100)/100},r.prototype.currentTarget=function(){if(0===this.settings.targets.length)return 0;var t=this,e=this.settings.targets.filter(function(e){return e>this+t.settings.minDelta},this.currentCount),n=Math.min.apply(null,e);return!isNaN(n)&&isFinite(n)?n:this.settings.targets[this.settings.targets.length-1]},r.prototype.getMissingCount=function(e){if("undefined"==typeof e&&(e=!0),0===this.settings.targets.length)return 0;var n=t.toInteger(this.currentTarget());if(0===n||0>n)return 0;var r=n-this.currentCount;return e&&0>r?0:r},n.exports})},{"../common/utils":1,"../poller/poller":3}],5:[function(e,n,r){!function(o,i){"function"==typeof t&&t.amd?t(["./common/utils","./progressbar/progressbar","./poller/poller"],i):"object"==typeof r?n.exports=i(e("./common/utils"),e("./progressbar/progressbar"),e("./poller/poller")):o.Socialtools=i(o.utils,o.Progressbar,o.Poller)}(this,function(t,e,r){return n="undefined"==typeof n?{}:n,n.exports={utils:t,Poller:r,Progressbar:e},n.exports})},{"./common/utils":1,"./poller/poller":3,"./progressbar/progressbar":4}]},{},[5])(5)});